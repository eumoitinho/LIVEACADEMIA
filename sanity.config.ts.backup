import { defineConfig } from 'sanity'
import { structureTool } from 'sanity/structure'
import { visionTool } from '@sanity/vision'
import { presentationTool } from 'sanity/presentation'

// Import schemas
import { homepageSchema } from './sanity/schemas/homepage'
import { unitSchema } from './sanity/schemas/unit'
import { planoSchema } from './sanity/schemas/plano'
import { benefitSchema } from './sanity/schemas/benefit'
import { testimonialSchema } from './sanity/schemas/testimonial'
import { appFeatureSchema } from './sanity/schemas/app-feature'
import { modalitySchema } from './sanity/schemas/modality'
import { structureFeatureSchema } from './sanity/schemas/structure-feature'
import { wellhubFeatureSchema } from './sanity/schemas/wellhub-feature'
import { bioimpedanciaFeatureSchema } from './sanity/schemas/bioimpedancia-feature'
import { appSectionSchema } from './sanity/schemas/app-section'
import { beneficiosSectionSchema } from './sanity/schemas/beneficios-section'
import { dayUse } from './sanity/schemas/day-use'
import { sobreNosSchema } from './sanity/schemas/sobre-nos'
import { contatoSchema } from './sanity/schemas/contato'
import { trabalheConoscoSchema } from './sanity/schemas/trabalhe-conosco'
import { sobreSchema } from './sanity/schemas/sobre'

import { modalidadesPageSchema } from './sanity/schemas/modalidades-page'
import { wellhubSectionSchema } from './sanity/schemas/wellhub-section'

export default defineConfig({
  name: 'live-academia',
  title: 'Live Academia CMS',

  projectId: 'c9pbklm2',
  dataset: 'production',

  basePath: '/studio',

  // API version
  apiVersion: '2024-01-01',

  // Enable authentication
  token: process.env.SANITY_API_TOKEN,
  
  plugins: [
    structureTool({
      structure: (S) =>
        S.list()
          .title('Live Academia CMS')
          .items([
            // ConfiguraÃ§Ãµes Globais
            S.listItem()
              .title('ðŸ  Homepage')
              .icon(() => 'ðŸ ')
              .child(
                S.document()
                  .schemaType('homepage')
                  .documentId('homepage')
              ),

            S.divider(),

            // ConteÃºdo Principal
            S.documentTypeListItem('unit').title('ðŸ¢ Unidades').icon(() => 'ðŸ¢'),
            S.documentTypeListItem('plano').title('ðŸ’Ž Planos').icon(() => 'ðŸ’Ž'),
            S.documentTypeListItem('benefit').title('â­ BenefÃ­cios').icon(() => 'â­'),
            S.documentTypeListItem('testimonial').title('ðŸ’¬ Depoimentos').icon(() => 'ðŸ’¬'),
            S.documentTypeListItem('modality').title('ðŸƒ Modalidades').icon(() => 'ðŸƒ'),

            S.divider(),

            // Recursos e Funcionalidades
            S.documentTypeListItem('appFeature').title('ðŸ“± Recursos do App').icon(() => 'ðŸ“±'),
            S.documentTypeListItem('structureFeature').title('ðŸ— Estrutura').icon(() => 'ðŸ—'),
            S.documentTypeListItem('wellhubFeature').title('ðŸ’¼ Wellhub').icon(() => 'ðŸ’¼'),
            S.documentTypeListItem('bioimpedanciaFeature').title('âš¡ BioimpedÃ¢ncia').icon(() => 'âš¡'),

            S.divider(),

            // PÃ¡ginas e SeÃ§Ãµes
            S.listItem()
              .title('ðŸŽ¯ SeÃ§Ã£o Modalidades')
              .icon(() => 'ðŸŽ¯')
              .child(
                S.document()
                  .schemaType('modalidadesPage')
                  .documentId('modalidadesPage')
              ),
            S.listItem()
              .title('ðŸ“± SeÃ§Ã£o do App')
              .icon(() => 'ðŸ“±')
              .child(
                S.document()
                  .schemaType('appSection')
                  .documentId('appSection')
              ),
            S.listItem()
              .title('â­ SeÃ§Ã£o de BenefÃ­cios')
              .icon(() => 'â­')
              .child(
                S.document()
                  .schemaType('beneficiosSection')
                  .documentId('beneficiosSection')
              ),
            S.listItem()
              .title('ðŸ’¼ SeÃ§Ã£o Wellhub')
              .icon(() => 'ðŸ’¼')
              .child(
                S.document()
                  .schemaType('wellhubSection')
                  .documentId('wellhubSection')
              ),
            S.listItem()
              .title('â˜€ï¸ Day Use')
              .icon(() => 'â˜€ï¸')
              .child(
                S.document()
                  .schemaType('dayUse')
                  .documentId('dayUse')
              ),

            S.divider(),

            // PÃ¡ginas Institucionais
            S.listItem()
              .title('â„¹ï¸ Sobre NÃ³s')
              .icon(() => 'â„¹ï¸')
              .child(
                S.document()
                  .schemaType('sobreNos')
                  .documentId('sobreNos')
              ),
            S.listItem()
              .title('ðŸ“„ Sobre')
              .icon(() => 'ðŸ“„')
              .child(
                S.document()
                  .schemaType('sobre')
                  .documentId('sobre')
              ),
            S.listItem()
              .title('ðŸ“§ Contato')
              .icon(() => 'ðŸ“§')
              .child(
                S.document()
                  .schemaType('contato')
                  .documentId('contato')
              ),
            S.listItem()
              .title('ðŸ‘” Trabalhe Conosco')
              .icon(() => 'ðŸ‘”')
              .child(
                S.document()
                  .schemaType('trabalheConosco')
                  .documentId('trabalheConosco')
              ),
          ])
    }),
    presentationTool({
      previewUrl: {
        origin: process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000',
        previewMode: {
          enable: '/api/draft-mode/enable',
        },
      },
    }),
    visionTool()
  ],
  
  schema: {
    types: [
      homepageSchema,
      unitSchema,
      planoSchema,
      benefitSchema,
      testimonialSchema,
      appFeatureSchema,
      modalitySchema,
      structureFeatureSchema,
      wellhubFeatureSchema,
      bioimpedanciaFeatureSchema,
      appSectionSchema,
      beneficiosSectionSchema,
      
      dayUse,
      sobreNosSchema,
      contatoSchema,
      trabalheConoscoSchema,
      sobreSchema,
      modalidadesPageSchema,
      wellhubSectionSchema,
    ],
  },
})
